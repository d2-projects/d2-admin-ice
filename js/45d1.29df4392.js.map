{"version":3,"sources":["webpack:///./src/layouts/HeaderAside/components/tabs/index.vue?27d9","webpack:///src/layouts/HeaderAside/components/tabs/index.vue","webpack:///./src/layouts/HeaderAside/components/tabs/index.vue?9bc7","webpack:///./src/layouts/HeaderAside/components/tabs/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","flex","flex-box","visible","contextmenuFlag","x","contentmenuX","y","contentmenuY","on","update:visible","$event","menulist","tagName","contextmenuListIndex","contextmenuList","rowClick","contextmenuClick","value","current","type","closable","tab-click","handleClick","edit","handleTabsEdit","nativeOn","contextmenu","handleContextmenu","_l","page","index","key","label","meta","title","name","split-button","click","handleControlBtnClick","command","handleControlItemClick","slot","_v","staticRenderFns","tabsvue_type_script_lang_js_","components","D2Contextmenu","__webpack_require__","e","then","bind","D2ContextmenuList","data","icon","computed","Object","objectSpread","vuex_esm","methods","event","target","flag","className","indexOf","parentNode","preventDefault","stopPropagation","clientX","clientY","getAttribute","slice","arguments","length","undefined","params","pageSelect","vm","closeLeft","closeRight","closeOther","closeAll","$message","error","tab","opened","find","query","$router","push","action","close","components_tabsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/45d1.29df4392.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d2-multiple-page-control-group\",attrs:{\"flex\":\"\"}},[_c('div',{staticClass:\"d2-multiple-page-control-content\",attrs:{\"flex-box\":\"1\"}},[_c('div',{staticClass:\"d2-multiple-page-control-content-inner\"},[_c('d2-contextmenu',{attrs:{\"visible\":_vm.contextmenuFlag,\"x\":_vm.contentmenuX,\"y\":_vm.contentmenuY},on:{\"update:visible\":function($event){_vm.contextmenuFlag=$event}}},[_c('d2-contextmenu-list',{attrs:{\"menulist\":_vm.tagName === 'index' ? _vm.contextmenuListIndex : _vm.contextmenuList},on:{\"rowClick\":_vm.contextmenuClick}})],1),_c('el-tabs',{staticClass:\"d2-multiple-page-control\",attrs:{\"value\":_vm.current,\"type\":\"card\",\"closable\":true},on:{\"tab-click\":_vm.handleClick,\"edit\":_vm.handleTabsEdit},nativeOn:{\"contextmenu\":function($event){return _vm.handleContextmenu($event)}}},_vm._l((_vm.opened),function(page,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":page.meta.title || '未命名',\"name\":page.name}})}))],1)]),_c('div',{staticClass:\"d2-multiple-page-control-btn\",attrs:{\"flex-box\":\"0\"}},[_c('el-dropdown',{attrs:{\"split-button\":\"\"},on:{\"click\":_vm.handleControlBtnClick,\"command\":function (command) { return _vm.handleControlItemClick(command); }}},[_c('d2-icon',{attrs:{\"name\":\"times-circle\"}}),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"left\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"arrow-left\"}}),_vm._v(\"\\n          关闭左侧\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"right\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"arrow-right\"}}),_vm._v(\"\\n          关闭右侧\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"other\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"times\"}}),_vm._v(\"\\n          关闭其它\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"times-circle\"}}),_vm._v(\"\\n          全部关闭\\n        \")],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d2-multiple-page-control-group\" flex>\n    <div class=\"d2-multiple-page-control-content\" flex-box=\"1\">\n      <div class=\"d2-multiple-page-control-content-inner\">\n        <d2-contextmenu\n          :visible.sync=\"contextmenuFlag\"\n          :x=\"contentmenuX\"\n          :y=\"contentmenuY\">\n          <d2-contextmenu-list\n            :menulist=\"tagName === 'index' ? contextmenuListIndex : contextmenuList\"\n            @rowClick=\"contextmenuClick\"/>\n        </d2-contextmenu>\n        <el-tabs\n          class=\"d2-multiple-page-control\"\n          :value=\"current\"\n          type=\"card\"\n          :closable=\"true\"\n          @tab-click=\"handleClick\"\n          @edit=\"handleTabsEdit\"\n          @contextmenu.native=\"handleContextmenu\">\n          <el-tab-pane\n            v-for=\"(page, index) in opened\"\n            :key=\"index\"\n            :label=\"page.meta.title || '未命名'\"\n            :name=\"page.name\"/>\n        </el-tabs>\n      </div>\n    </div>\n    <div\n      class=\"d2-multiple-page-control-btn\"\n      flex-box=\"0\">\n      <el-dropdown\n        split-button\n        @click=\"handleControlBtnClick\"\n        @command=\"command => handleControlItemClick(command)\">\n        <d2-icon name=\"times-circle\"/>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item command=\"left\">\n            <d2-icon name=\"arrow-left\" class=\"d2-mr-10\"/>\n            关闭左侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"right\">\n            <d2-icon name=\"arrow-right\" class=\"d2-mr-10\"/>\n            关闭右侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"other\">\n            <d2-icon name=\"times\" class=\"d2-mr-10\"/>\n            关闭其它\n          </el-dropdown-item>\n          <el-dropdown-item command=\"all\">\n            <d2-icon name=\"times-circle\" class=\"d2-mr-10\"/>\n            全部关闭\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nexport default {\n  components: {\n    D2Contextmenu: () => import('../contextmenu'),\n    D2ContextmenuList: () => import('../contextmenu/components/contentmenuList')\n  },\n  data () {\n    return {\n      contextmenuFlag: false,\n      contentmenuX: 0,\n      contentmenuY: 0,\n      contextmenuListIndex: [\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      contextmenuList: [\n        { icon: 'arrow-left', title: '关闭左侧', value: 'left' },\n        { icon: 'arrow-right', title: '关闭右侧', value: 'right' },\n        { icon: 'times', title: '关闭其它', value: 'other' },\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      tagName: 'index'\n    }\n  },\n  computed: {\n    ...mapState('d2admin/page', [\n      'opened',\n      'current'\n    ])\n  },\n  methods: {\n    ...mapMutations('d2admin/page', [\n      'close',\n      'closeLeft',\n      'closeRight',\n      'closeOther',\n      'closeAll'\n    ]),\n    /**\n     * @description 右键菜单功能点击\n     */\n    handleContextmenu (event) {\n      let target = event.target\n\n      // 解决 https://github.com/d2-projects/d2-admin/issues/54\n      let flag = false\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true\n      else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\n        target = target.parentNode\n        flag = true\n      }\n\n      if (flag) {\n        event.preventDefault()\n        event.stopPropagation()\n        this.contentmenuX = event.clientX\n        this.contentmenuY = event.clientY\n        this.tagName = target.getAttribute('aria-controls').slice(5)\n        this.contextmenuFlag = true\n      }\n    },\n    /**\n     * @description 右键菜单的row-click事件\n     */\n    contextmenuClick (command) {\n      this.handleControlItemClick(command, this.tagName)\n    },\n    /**\n     * @description 接收点击关闭控制上选项的事件\n     */\n    handleControlItemClick (command, tagName = null) {\n      if (tagName) {\n        this.contextmenuFlag = false\n      }\n      const params = {\n        pageSelect: tagName,\n        vm: this\n      }\n      switch (command) {\n        case 'left':\n          this.closeLeft(params)\n          break\n        case 'right':\n          this.closeRight(params)\n          break\n        case 'other':\n          this.closeOther(params)\n          break\n        case 'all':\n          this.closeAll(this)\n          break\n        default:\n          this.$message.error('无效的操作')\n          break\n      }\n    },\n    /**\n     * @description 接收点击关闭控制上按钮的事件\n     */\n    handleControlBtnClick () {\n      this.closeAll(this)\n    },\n    /**\n     * @description 接收点击 tab 标签的事件\n     */\n    handleClick (tab, event) {\n      // 找到点击的页面在 tag 列表里是哪个\n      const page = this.opened.find(page => page.name === tab.name)\n      const { name, params, query } = page\n      if (page) {\n        this.$router.push({ name, params, query })\n      }\n    },\n    /**\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\n     */\n    handleTabsEdit (tagName, action) {\n      if (action === 'remove') {\n        this.close({\n          tagName,\n          vm: this\n        })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f73ab548&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}